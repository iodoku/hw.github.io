_HiStOrY_V2_
use\040hw3
select*from\040users;
SHOW\040DATABASES;
EXIT
use\040hw3
describe\040table
;
describe\040users;
describe\040jobs;
describe\040applications;
describe\040bookmarks;
CREATE\040TABLE\040company_reviews\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040company_id\040INT\040NOT\040NULL,
\040\040\040\040user_id\040INT\040NOT\040NULL,
\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040--\0401~5\040사이의\040평점
\040\040\040\040review\040TEXT,
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040--\040jobs\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040company_reviews\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040\040\040\040\040\040review\040TEXT,\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040);
CREATE\040TABLE\040job_views\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040--\040조회\040기록\040ID
\040\040\040\040user_id\040INT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(NULL\040허용:\040비회원\040조회\040가능)
\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040채용\040공고\040ID
\040\040\040\040view_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040조회\040일시
\040\040\040\040ip_address\040VARCHAR(45),\040\040\040\040\040\040\040\040\040\040\040\040--\040IP\040주소\040(IPv6\040지원)
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),\040\040\040--\040users\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)\040\040\040\040\040\040--\040jobs\040테이블과\040연관
);
CREATE\040TABLE\040job_views\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040user_id\040INT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040view_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040ip_address\040VARCHAR(45),\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)\040\040\040\040\040\040\040);
CREATE\040TABLE\040company_ratings\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040고유\040ID
\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040회사\040ID\040(jobs\040테이블과\040연관)
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(users\040테이블과\040연관)
\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040--\040평점\040(1~5\040사이)
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040--\040jobs\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040company_ratings\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040);
ALTER\040TABLE\040company_reviews
DROP\040COLUMN\040rating;
ALTER\040TABLE\040company_reviews\040DROP\040COLUMN\040rating;
ALTER\040TABLE\040job_views
DROP\040COLUMN\040ip_address;
ALTER\040TABLE\040job_views\040DROP\040COLUMN\040ip_address;
CREATE\040TABLE\040posts\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040게시글\040ID
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040작성자\040ID
\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040제목
\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040내용
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040--\040수정\040일시
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040posts\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040);
EXIT
use\040hw3
)describe\040users;
)describe\040user;
DESCRIBE\040users;
DESCRIBE\040jobs;
EXIT
use\040hw3
CREATE\040DATABASE\040hw3;
use\040hw3
mysql>\040CREATE\040TABLE\040posts\040(
\040\040\040\040->\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040게시글\040ID
\040\040\040\040->\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040작성자\040ID
\040\040\040\040->\040\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040제목
\040\040\040\040->\040\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040내용
\040\040\040\040->\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040->\040\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040--\040수정\040일시
\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040--\040users\040테이블과\040연관
\040\040\040\040->\040);
mysql>\040CREATE\040TABLE\040posts\040(\040\040\040\040\040->\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040->\040\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040\040\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040\040\040->\040);
CREATE\040TABLE\040users\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040username\040VARCHAR(80)\040NOT\040NULL,
\040\040\040\040email\040VARCHAR(120)\040NOT\040NULL\040UNIQUE,
);
CREATE\040TABLE\040jobs\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040company\040VARCHAR(255),
\040\040\040\040title\040VARCHAR(255),
\040\040\040\040link\040TEXT,
\040\040\040\040location\040VARCHAR(255),
\040\040\040\040experience\040VARCHAR(255),
\040\040\040\040education\040VARCHAR(255),
\040\040\040\040employment_type\040VARCHAR(255),
\040\040\040\040deadline\040VARCHAR(255),
\040\040\040\040sector\040VARCHAR(255),
\040\040\040\040salary\040VARCHAR(255),
\040\040\040\040views\040INT\040DEFAULT\0400
);
CREATE\040TABLE\040jobs\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040company\040VARCHAR(255),\040\040\040\040\040title\040VARCHAR(255),\040\040\040\040\040link\040TEXT,\040\040\040\040\040location\040VARCHAR(255),\040\040\040\040\040experience\040VARCHAR(255),\040\040\040\040\040education\040VARCHAR(255),\040\040\040\040\040employment_type\040VARCHAR(255),\040\040\040\040\040deadline\040VARCHAR(255),\040\040\040\040\040sector\040VARCHAR(255),\040\040\040\040\040salary\040VARCHAR(255),\040\040\040\040\040views\040INT\040DEFAULT\0400\040);
CREATE\040TABLE\040applications\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040user_id\040INT\040NOT\040NULL,
\040\040\040\040job_id\040INT\040NOT\040NULL,
\040\040\040\040application_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040status\040VARCHAR(50)\040DEFAULT\040'pending',
\040\040\040\040notes\040TEXT,
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),
\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)
);
CREATE\040TABLE\040applications\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040application_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040status\040VARCHAR(50)\040DEFAULT\040'pending',\040\040\040\040\040notes\040TEXT,\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),\040\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)\040);
CREATE\040TABLE\040bookmarks\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040url\040VARCHAR(255),
\040\040\040\040description\040TEXT,
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040job_id\040INT\040NOT\040NULL,
\040\040\040\040user_id\040INT,
\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id),
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)
);
CREATE\040TABLE\040bookmarks\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040url\040VARCHAR(255),\040\040\040\040\040description\040TEXT,\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040user_id\040INT,\040\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id),\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040);
mysql>\040CREATE\040TABLE\040company_ratings\040(
\040\040\040\040->\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040고유\040ID
\040\040\040\040->\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040회사\040ID\040(jobs\040테이블과\040연관)
\040\040\040\040->\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(users\040테이블과\040연관)
\040\040\040\040->\040\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040--\040평점\040(1~5\040사이)
\040\040\040\040->\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040--\040jobs\040테이블과\040연관
\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040--\040users\040테이블과\040연관
\040\040\040\040->\040);
mysql>\040CREATE\040TABLE\040company_ratings\040(\040\040\040\040\040->\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040->\040\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040\040\040\040\040\040->\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040\040\040\040\040\040->\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040\040\040\040\040->\040);
CREATE\040TABLE\040company_ratings\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040고유\040ID
\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040회사\040ID\040(jobs\040테이블과\040연관)
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(users\040테이블과\040연관)
\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040--\040평점\040(1~5\040사이)
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040--\040jobs\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040company_ratings\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040rating\040INT\040NOT\040NULL\040CHECK\040(rating\040BETWEEN\0401\040AND\0405),\040\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040);
CREATE\040TABLE\040job_views\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040조회\040기록\040ID
\040\040\040\040user_id\040INT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(NULL\040허용:\040비회원\040조회\040가능)
\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040채용\040공고\040ID
\040\040\040\040view_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040조회\040일시
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),\040--\040users\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)\040\040\040\040--\040jobs\040테이블과\040연관
);
CREATE\040TABLE\040job_views\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040job_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040view_date\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id),\040\040\040\040\040\040FOREIGN\040KEY\040(job_id)\040REFERENCES\040jobs(id)\040\040\040\040\040);
CREATE\040TABLE\040company_reviews\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040고유\040ID
\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040회사\040ID\040(jobs\040테이블과\040연관)
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(users\040테이블과\040연관)
\040\040\040\040review\040TEXT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040리뷰\040내용
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040--\040jobs\040테이블과\040연관
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040company_reviews\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040company_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040review\040TEXT,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(company_id)\040REFERENCES\040jobs(id),\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040\040\040);
CREATE\040TABLE\040posts\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040--\040게시글\040ID
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040작성자\040ID
\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040제목
\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040게시글\040내용
\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040--\040작성\040일시
\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040--\040수정\040일시
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040--\040users\040테이블과\040연관
);
CREATE\040TABLE\040posts\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040title\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040content\040TEXT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040created_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040\040updated_at\040DATETIME\040DEFAULT\040CURRENT_TIMESTAMP\040ON\040UPDATE\040CURRENT_TIMESTAMP,\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040\040);
EXIT
use\040hw3
show\040table;
show\040database;
SHOW\040TABLES;
EXIT
use\040hw3
SHOW\040TABLES;
describe\040login_logs;
EXIT
use\040hw3
CREATE\040TABLE\040login_logs\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040--\040고유\040ID
\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040사용자\040ID\040(users\040테이블과\040연관)
\040\040\040\040login_time\040DATETIME\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040--\040로그인\040시간
\040\040\040\040ip_address\040VARCHAR(45)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040--\040IP\040주소
\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040--\040users\040테이블과\040외래\040키\040관계
);
CREATE\040TABLE\040login_logs\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040user_id\040INT\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040login_time\040DATETIME\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040ip_address\040VARCHAR(45)\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040\040);
EXIT
use\040hw3
ALTER\040TABLE\040company_ratings\040DROP\040FOREIGN\040KEY\040user_id
;
ALTER\040TABLE\040company_ratings\040DROP\040FOREIGN\040KEY\040id;
SHOW\040CREATE\040TABLE\040company_ratings;
ALTER\040TABLE\040company_ratings\040DROP\040FOREIGN\040KEY\040company_ratings_ibfk_2;
ALTER\040TABLE\040company_ratings
ADD\040CONSTRAINT\040fk_user_id_applications\040FOREIGN\040KEY\040(user_id)
REFERENCES\040applications(user_id)
ON\040DELETE\040CASCADE;
ALTER\040TABLE\040company_ratings\040ADD\040CONSTRAINT\040fk_user_id_applications\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040applications(user_id)\040ON\040DELETE\040CASCADE;
describe\040company_ratings;
EXIT
use\040hw3
SELECT\040*\040FROM\040applications\040WHERE\040user_id\040=\040<user_id>;
Describe\040applications;
describe\040users;
SHOW\040CREATE\040TABLE\040company_ratings;
ALTER\040TABLE\040company_ratings\040DROP\040FOREIGN\040KEY\040fk_user_id_applications;
ALTER\040TABLE\040company_ratings
ADD\040CONSTRAINT\040fk_user_id_users\040FOREIGN\040KEY\040(user_id)
REFERENCES\040users(id)
ON\040DELETE\040CASCADE;
ALTER\040TABLE\040company_ratings\040ADD\040CONSTRAINT\040fk_user_id_users\040FOREIGN\040KEY\040(user_id)\040REFERENCES\040users(id)\040ON\040DELETE\040CASCADE;
DELETE\040FROM\040company_ratings\040WHERE\040user_id\040NOT\040IN\040(SELECT\040id\040FROM\040users);
EXIT
